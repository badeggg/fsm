<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="965px" height="668px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/63.0.3239.132 Safari/537.36&quot; version=&quot;8.0.2&quot; editor=&quot;www.draw.io&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;9b697601-a7fe-9c1a-ef5d-977aa16750ca&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g transform="translate(0.5,0.5)"><ellipse cx="210" cy="337" rx="47.5" ry="47.5" fill="#ebffc4" stroke="none" pointer-events="none"/><g transform="translate(197.5,329.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="23" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 25px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><b>wait</b></div></div></foreignObject><text x="12" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 44 563.47 L 274.39 563.47" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(66.5,529.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="39" height="36" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 40px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><p>timeout</p></div></div></foreignObject><text x="20" y="24" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;p&gt;timeout&lt;/p&gt;</text></switch></g><g transform="translate(66.5,574.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="154" height="26" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 155px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><div>send data chunk of base and</div><div>start timer</div></div></div></foreignObject><text x="77" y="19" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;div&gt;send data chunk of base and&lt;/div&gt;&lt;div&gt;start timer&lt;/div&gt;</text></switch></g><path d="M 171.72 298.29 L 97 216" fill="none" stroke="#000000" stroke-miterlimit="10" stroke-dasharray="3 3" pointer-events="none"/><path d="M 175.25 302.17 L 167.95 299.34 L 171.72 298.29 L 173.13 294.64 Z" fill="#000000" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(716.5,12.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="164" height="14" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 14px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 164px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><b>Tcp Finite-State Machine</b></div></div></foreignObject><text x="82" y="14" fill="#000000" text-anchor="middle" font-size="14px" font-family="Helvetica">&lt;b&gt;Tcp Finite-State Machine&lt;/b&gt;</text></switch></g><path d="M 210 289 Q 184 190 259 220 Q 334 250 248.45 301.71" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 243.96 304.42 L 248.14 297.81 L 248.45 301.71 L 251.76 303.8 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 10 247 L 107.85 247" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(58.5,216.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="9" height="36" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 9px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><p>Λ</p></div></div></foreignObject><text x="5" y="24" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><g transform="translate(11.5,251.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="108" height="40" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 108px; white-space: normal; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">initial base, <span>nextseqnum, windowsize</span></div></div></foreignObject><text x="54" y="26" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 254 366 Q 374 500 409 415 Q 444 330 268.36 335.79" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 263.12 335.96 L 270 332.23 L 268.36 335.79 L 270.23 339.23 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 221 108 L 526.11 108" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(250.5,69.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="178" height="36" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 179px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><p>call from upper layer to send data</p></div></div></foreignObject><text x="89" y="24" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;p&gt;call from upper layer to send data&lt;/p&gt;</text></switch></g><g transform="translate(250.5,121.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="201" height="96" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 202px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">if(nextseqnum &lt;  base + windowsize):<div>      send data</div><div>      <span>nextseqnum++</span></div><div>      if(no timer running):</div><div>             start timer</div><div>else:</div><div>     refuse to send data</div></div></div></foreignObject><text x="101" y="54" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g><path d="M 210 384 Q 244 550 144 525 Q 44 500 184.11 383.08" fill="none" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 188.14 379.72 L 185.01 386.89 L 184.11 383.08 L 180.52 381.51 Z" fill="#82b366" stroke="#82b366" stroke-miterlimit="10" pointer-events="none"/><path d="M 413 359 L 718.11 359" fill="none" stroke="#000000" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(442.5,320.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="67" height="36" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 68px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;"><p>ack received</p></div></div></foreignObject><text x="34" y="24" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">&lt;p&gt;ack received&lt;/p&gt;</text></switch></g><g transform="translate(442.5,379.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="219" height="82" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 220px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">if(acknum &gt;=  base):<div>      base = acknum + 1</div><div>      restart timer</div><div>else if(acknum == base-1):</div><div>      resend data chunk of base</div><div>      restart timer and double timer interval</div></div></div></foreignObject><text x="110" y="47" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">[Not supported by viewer]</text></switch></g></g></svg>